<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<!-- Namespace를 통해 JAVA 클래스와 Annotation클래스와 동기 -->
<mapper namespace="Admin">
	<!-- ✔ 관리자 > 사용자 관리 -->
	<!-- 사용자 전체 조회 -->
	<select id="All_User_List" resultType="com.assign_manage.vo.VO_User">
	<!-- alias를 이용해 등급 명칭을 수정 -->
		select case user_class
		when 0 then '관리자'
		when 1 then '교사'
		when 2 then '학생'
		else '기타'
		end as user_class_name,
		id,
		name,
		gender,
		birth,
		tel,
		email
		from user
	</select>


	<!-- ✔ 강의 관리 -->
	<!-- 전체 교사 조회 -->
	<select id="All_Teacher_List" resultType="com.assign_manage.vo.VO_User">
		select id, name, gender from user where user_class = 1
	</select>
	
	<!-- 이름으로 특정 교사 조회 -->
	<select id="Name_Teacher_View" resultType="com.assign_manage.vo.VO_User">
		select id, name, gender from user where user_class = 1 and name = #{keyword}
	</select>


	<!-- 전체 학생 조회 -->
	<select id="All_Student_List" resultType="com.assign_manage.vo.VO_User">
		select id, name, gender from user where user_class = 2
	</select>
	
	<!-- 이름으로 특정 학생 조회 -->
	<select id="Name_Student_View" resultType="com.assign_manage.vo.VO_User">
		select id, name, gender from user where user_class = 2 and name = #{keyword}
	</select>
	

	
	


</mapper>